# `package.json`

## Секция метаданных

```json
"name": "my_package",
"description": "",
"version": "1.0.0",
"repository": {
"type": "git",
"url": "https://github.com/monatheoctocat/my_package.git",
"keywords": [],
"author": "",
"license": "ISC",
"bugs": {
    "url": "https://github.com/monatheoctocat/my_package/issues"
},
"homepage": "https://github.com/monatheoctocat/my_package"
```

Содержит метаданные текущего проекта, имеет значение только при его публикации в каком-либо репозитории пакетов.

## Секция скриптов

```json
"scripts": {
    "build": "tsc",
    "format": "prettier --write **/*.ts",
    "format-check": "prettier --check **/*.ts",
    "lint": "eslint src/**/*.ts",
    "pack": "ncc build",
    "test": "jest",
    "all": "npm run build && npm run format && npm run lint && npm run pack && npm test"
}
```

Содержит перечень скриптов `npm`, используемых для автоматизации процесса производства кода: запуск линтеров и форматтеров, сборка (build), тестирование и т.д.

## Секции зависимостей

В `package.json` есть две основные секции зависимостей: `dependencies` и `devDependencies`. Кроме этого, могут присутствовать секции `optionalDependencies`, `peerDependencies`, `bundledDependencies`.

### Секция `dependencies`



В секции `dependencies` содержатся перечень сторонних пакетов (зависимостей), которые необходимы приложения для функционирования:

```json
"dependencies": {
    "my_dep": "~2.2.5",
    "another_dep": "^3.4.1",
    "one_more_dep": "1.0.0 - 1.2.0"
}
```

Такие зависимости устанавливаются с помощью команды `npm install <package-name> [--save-prod]`.

Указание версии происходит в соответствии с семантическим версионированием: символ `~` означает, что подходит любая более старшая версия, отличающаяся только номером патча (т.е. первые две части номера фиксированы), символ `^` – тоже самое для минорной версии. Так же может быть указана конкретная версия или диапазон допустимых версий.

### Секция `devDependencies`

В этой секции находятся зависимости, которые не нужны для функционирования приложения, но используются в процессе разработки: компиляторы, транспайлеры, минификаторы и т.д. Они устанавливаются с помощью команды `npm install <package-name> --save-dev`.

```json
"devDependencies" : {
    "my_test_framework": "^3.1.0",
    "linter": "~1.2.0"
}
```

## package-lock.json

Наличие файла `package.json` не гарантирует, что у всех членов команды будут установлены одинаковые версии зависимостей, т.к. для зависимостей обычно указывается не конкретная версия, и их диапазон. Поэтому команда `npm install` генерирует ещё один файл – `package-lock.json`, который также содержит перечень зависимостей, но отличается следуюющими моментами:
1. Для каждой установленной зависимости прописывается конкретная версия (та, которая была установлена).
2. Для всех зависимостей прописываются их зависимости, причём происходит это рекурсивно. Таким образом, каждая строка из секции зависимостей из `package.json` превращается в дерево в `package-lock.json`.

Файл `package-lock.json` является необязательным.